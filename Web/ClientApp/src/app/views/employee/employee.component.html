<h2>Calculate Employee Salary Tax</h2>

<div class="uk-flex uk-grid uk-child-width-1-1@s uk-child-width-1-2@m uk-child-width-1-3@l">
	<form class="uk-form-stacked" novalidate [formGroup]="form" (ngSubmit)="onSubmit(form)">
		<fieldset class="uk-fieldset">
			<div class="uk-margin">
				<label class="uk-form-label" for="name">Name:</label>
				<div class="uk-form-controls">
					<input type="text" class="uk-input" autocomplete="off" autofocus="autofocus" required id="name" name="name" formControlName="name" />
				</div>
			</div>
			<div class="uk-margin">
				<label class="uk-form-label" for="email">Email:</label>
				<div class="uk-form-controls">
					<input type="email" class="uk-input" autocomplete="off" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" id="email" name="email" formControlName="email" />
				</div>
			</div>
			<div class="uk-margin">
				<label class="uk-form-label" for="salary">Gross Salary:</label>
				<div class="uk-form-controls">
					<input type="number" min="0" value="0" step=".01" class="uk-input" autocomplete="off" required id="grossSalary" name="grossSalary" formControlName="grossSalary" />
				</div>
			</div>
			<div class="uk-margin uk-text-center">
				<button type="submit" class="uk-button uk-button-primary" [disabled]="!form.valid">Calculate Tax</button>
			</div>
		</fieldset>
	</form>
</div>

<div *ngIf="employee">
	<h2>Tax Calculated</h2>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Name:</span>
		<span class="uk-form-label">{{employee?.name}}</span>
	</div>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Email:</span>
		<span class="uk-form-label">{{employee?.email}}</span>
	</div>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Gross Salary:</span>
		<span class="uk-form-label">{{employee?.grossSalary | currency}}</span>
	</div>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Tax range applied:</span>
		<span class="uk-form-label"><b>Min:</b> {{employee?.taxSalary?.minSalary | currency}}</span>
		<span class="uk-form-label"><b>Max:</b> {{employee?.taxSalary?.maxSalary | currency}}</span>
	</div>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Tax applied:</span>
		<span class="uk-form-label">{{employee?.taxSalary?.tax}}%</span>
	</div>

	<div class="uk-margin">
		<span class="uk-form-label uk-text-bold">Net Salary:</span>
		<span class="uk-form-label">{{employee?.taxSalary?.netSalary | currency}}</span>
	</div>
</div>